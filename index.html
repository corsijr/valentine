<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>ðŸ’˜ Valentine</title>

  <style>
    html, body { height: 100%; }
    body{
      margin:0;
      min-height:100vh;
      display:flex;
      justify-content:center;
      align-items:center;
      background: linear-gradient(135deg,#ffe6ef,#fff7fb);
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      padding:16px;
    }

    .card{
      width:min(680px, 96vw);
      height:min(760px, 92vh);
      background:#fff;
      border-radius:24px;
      box-shadow:0 20px 60px rgba(0,0,0,.15);
      padding:22px;
      display:flex;
      flex-direction:column;
      gap:14px;
      overflow:hidden;
    }

    .top{
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:10px;
      transition: opacity .25s ease, transform .25s ease;
    }

    h1{
      font-size: clamp(22px, 4.2vw, 34px);
      margin:0;
      text-align:center;
      line-height:1.15;
      transition: opacity .25s ease, transform .25s ease;
    }

    .gif{
      width:180px;
      height:180px;
      border-radius:20px;
      overflow:hidden;
      box-shadow:0 12px 30px rgba(0,0,0,.15);
      background:#fff;
      transition: width .25s ease, height .25s ease, opacity .25s ease, transform .25s ease;
      flex: 0 0 auto;
    }
    .gif img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
      -webkit-user-select:none; user-select:none;
      -webkit-touch-callout:none;
    }

    .buttons{
      flex:1;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:flex-start;
      gap:14px;
      padding-top:4px;
    }

    button{
      border:none;
      border-radius:18px;
      box-shadow:0 10px 25px rgba(0,0,0,.2);
      font-weight:800;
      cursor:pointer;
      -webkit-tap-highlight-color: transparent;
      touch-action: manipulation;
      -webkit-user-select:none; user-select:none;
      -webkit-touch-callout:none;
      transition: all .18s ease;
    }

    /* JA: wÃ¤chst und nimmt echten Platz */
    #ja{
      background:#22c55e;
      color:white;
      width:min(560px, 92%);
      min-height:56px;
      font-size:18px;
      padding:14px 22px;
      line-height:1.05;
      display:flex;
      align-items:center;
      justify-content:center;
      text-align:center;
    }

    /* NEIN: bleibt gleich groÃŸ, aber muss umbrechen (lesbar bis ca. 10) */
    #nein{
      background:#ef4444;
      color:white;
      width:min(560px, 92%);
      min-height:56px;
      font-size:16px;
      padding:14px 18px;
      line-height:1.15;
      text-align:center;

      white-space:normal;
      overflow-wrap:anywhere;
      word-break:break-word;
    }

    .result{
      display:none;
      text-align:center;
    }
    .result .gif{
      width:180px;
      height:180px;
      margin:0 auto;
    }

    /* Confetti */
    .confetti{
      position:fixed;
      inset:0;
      pointer-events:none;
      overflow:hidden;
    }
    .confetti span{
      position:absolute;
      top:-10px;
      width:10px;
      height:16px;
      border-radius:3px;
      opacity:.95;
      animation: fall linear forwards;
    }
    @keyframes fall{
      to{ transform:translateY(110vh) rotate(720deg); }
    }
  </style>
</head>

<body>
  <div class="card" id="card">

    <div class="top" id="top">
      <div class="gif" id="startGif">
        <img src="bear_idle.gif" alt="bear gif">
      </div>
      <h1 id="question">Will you be my Valentine my Love ?</h1>
    </div>

    <div class="buttons" id="area">
      <button id="ja" type="button">Ja</button>
      <button id="nein" type="button">Nei</button>
    </div>

    <div class="result" id="result">
      <div class="gif">
        <img src="bear_yes.gif" alt="yes gif">
      </div>
      <div style="margin-top:12px;font-size:22px;">ðŸ¥°ðŸ’˜ Yesss my Love!!</div>
    </div>

  </div>

  <div class="confetti" id="confetti"></div>

  <script>
    (function () {
      const neinTexts = [
        "Nei",
        "Bish sicher Ajlin?",
        "Was wenn ich richtig nett frÃ¶ge?",
        "bitte bitte bitte",
        "ich bring dir Blueme",
        "und schoggi",
        "BITTE MIS HERZ",
        ":(",
        "Ich stirb weg dir",
        "bin tot",
        "Ray 2001 - 2026 RIP",
        "bitte my love",
        ":(((((",
        "BITTE BITTE BITTE",
        "tot",
        "no :("
      ];

      const jaBtn = document.getElementById("ja");
      const neinBtn = document.getElementById("nein");
      const area = document.getElementById("area");
      const result = document.getElementById("result");
      const confetti = document.getElementById("confetti");
      const startGif = document.getElementById("startGif");
      const top = document.getElementById("top");
      const question = document.getElementById("question");

      let clicks = 0;
      const STEPS = 10;

      // JA wÃ¤chst "real"
      const BASE = { font:18, padY:14, padX:22, minH:56, widthPct:92 };
      const MAX  = { font:68, padY:36, padX:54, minH:260, widthPct:98 };

      function easeOut(t){ return 1 - Math.pow(1 - t, 2.6); }
      function lerp(a,b,t){ return a + (b-a)*t; }

      function applyGrowth(step){
        const t = Math.min(step, STEPS) / STEPS;
        const e = easeOut(t);

        const font = Math.round(lerp(BASE.font, MAX.font, e));
        const padY = Math.round(lerp(BASE.padY, MAX.padY, e));
        const padX = Math.round(lerp(BASE.padX, MAX.padX, e));
        const minH = Math.round(lerp(BASE.minH, MAX.minH, e));
        const widthPct = Math.round(lerp(BASE.widthPct, MAX.widthPct, e));

        jaBtn.style.fontSize = font + "px";
        jaBtn.style.padding  = `${padY}px ${padX}px`;
        jaBtn.style.minHeight = minH + "px";
        jaBtn.style.width = `min(560px, ${widthPct}%)`;

        // "Ja dominiert": GIF+Frage werden verdrÃ¤ngt (bleiben aber sichtbar)
        const gifSize = Math.round(lerp(180, 100, e));
        startGif.style.width = gifSize + "px";
        startGif.style.height = gifSize + "px";
        startGif.style.opacity = String(lerp(1, 0.50, e));
        startGif.style.transform = `translateY(${Math.round(lerp(0, -10, e))}px)`;

        question.style.opacity = String(lerp(1, 0.30, e));
        top.style.transform = `translateY(${Math.round(lerp(0, -12, e))}px)`;
      }

      function updateNeinText(step){
        if (step < neinTexts.length) neinBtn.textContent = neinTexts[step];
        else neinBtn.textContent = "no :(";
      }

      function rand(min,max){ return Math.random()*(max-min)+min; }
      function popConfetti(){
        confetti.innerHTML = "";
        const colors = ["#ef4444","#22c55e","#eab308","#3b82f6","#ec4899"];
        for(let i=0;i<120;i++){
          const s = document.createElement("span");
          s.style.left = rand(0,100) + "vw";
          s.style.background = colors[Math.floor(Math.random()*colors.length)];
          s.style.animationDuration = rand(1.4, 3.0) + "s";
          s.style.animationDelay = rand(0, 0.2) + "s";
          s.style.width = rand(7, 12) + "px";
          s.style.height = rand(10, 18) + "px";
          confetti.appendChild(s);
        }
        setTimeout(()=>confetti.innerHTML="", 3500);
      }

      function onNein(){
        clicks++;
        updateNeinText(clicks);
        applyGrowth(clicks);
      }

      function onJa(){
        area.style.display = "none";
        top.style.display = "none";
        result.style.display = "block";
        popConfetti();
      }

      // Init
      applyGrowth(0);
      updateNeinText(0);

      // Use ONE reliable event: pointerup (works on iPhone + Mac)
      neinBtn.addEventListener("pointerup", (e) => { e.preventDefault(); onNein(); });
      jaBtn.addEventListener("pointerup", (e) => { e.preventDefault(); onJa(); });
    })();
  </script>
</body>
</html>
